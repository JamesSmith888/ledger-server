# äº¤æ˜“åˆ†ç±»æ‰©å±•å®æ–½æŒ‡å—

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°æ‰©å±•äº†äº¤æ˜“åˆ†ç±»åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

1. **æ‰©å±•ç³»ç»Ÿé»˜è®¤åˆ†ç±»æ•°é‡**
   - æ”¯å‡ºåˆ†ç±»ï¼šä» 8 ä¸ªå¢åŠ åˆ° 16 ä¸ª
   - æ”¶å…¥åˆ†ç±»ï¼šä» 4 ä¸ªå¢åŠ åˆ° 10 ä¸ª

2. **å®Œå–„åˆ†ç±»ç®¡ç†åŠŸèƒ½**
   - å‰ç«¯æ–°å¢åˆ†ç±»ç®¡ç†ç•Œé¢
   - æ”¯æŒåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤è‡ªå®šä¹‰åˆ†ç±»
   - å›¾æ ‡å’Œé¢œè‰²é€‰æ‹©å™¨

## ğŸ”„ åç«¯å˜æ›´

### 1. CategoryService.java

#### æ‰©å±•æ”¯å‡ºåˆ†ç±»ï¼ˆ16ä¸ªï¼‰

```java
String[][] expenseCategories = {
    {"é¤é¥®", "ionicons:restaurant", "#FF9500"},
    {"è´­ç‰©", "ionicons:cart", "#FF2D55"},
    {"äº¤é€š", "ionicons:car", "#5AC8FA"},
    {"æ—¥ç”¨", "ionicons:home", "#34C759"},
    {"å¨±ä¹", "ionicons:game-controller", "#AF52DE"},
    {"åŒ»ç–—", "ionicons:medical", "#FF3B30"},
    {"æ•™è‚²", "ionicons:book", "#007AFF"},
    {"é€šè®¯", "ionicons:phone-portrait", "#5AC8FA"},
    {"è¿åŠ¨", "ionicons:fitness", "#32ADE6"},       // æ–°å¢
    {"æ—…æ¸¸", "ionicons:airplane", "#FF6B6B"},     // æ–°å¢
    {"ç¾å®¹", "ionicons:heart", "#FF69B4"},        // æ–°å¢
    {"å® ç‰©", "ionicons:paw", "#FFB347"},         // æ–°å¢
    {"ç¤¾äº¤", "ionicons:people", "#9B59B6"},       // æ–°å¢
    {"ç»´ä¿®", "ionicons:construct", "#95A5A6"},    // æ–°å¢
    {"ä¿é™©", "ionicons:shield-checkmark", "#3498DB"}, // æ–°å¢
    {"æèµ ", "ionicons:gift", "#E74C3C"}         // æ–°å¢
};
```

#### æ‰©å±•æ”¶å…¥åˆ†ç±»ï¼ˆ10ä¸ªï¼‰

```java
String[][] incomeCategories = {
    {"å·¥èµ„", "ionicons:wallet", "#34C759"},
    {"å¥–é‡‘", "ionicons:gift", "#FF9500"},
    {"ç†è´¢", "ionicons:trending-up", "#FFD60A"},
    {"å…¼èŒ", "ionicons:briefcase", "#00C7BE"},
    {"æŠ•èµ„", "ionicons:stats-chart", "#9C88FF"},     // æ–°å¢
    {"çº¢åŒ…", "ionicons:card", "#FF6B6B"},            // æ–°å¢
    {"æŠ¥é”€", "ionicons:receipt", "#4ECDC4"},         // æ–°å¢
    {"é€€æ¬¾", "ionicons:return-down-back", "#95E1D3"}, // æ–°å¢
    {"ç§Ÿé‡‘", "ionicons:business", "#FFA07A"},        // æ–°å¢
    {"åˆ†çº¢", "ionicons:cash", "#F38181"}            // æ–°å¢
};
```

### 2. åç«¯APIï¼ˆå·²å­˜åœ¨ï¼Œæ— éœ€ä¿®æ”¹ï¼‰

- `GET /api/categories` - è·å–æ‰€æœ‰åˆ†ç±»
- `GET /api/categories/expense` - è·å–æ”¯å‡ºåˆ†ç±»
- `GET /api/categories/income` - è·å–æ”¶å…¥åˆ†ç±»
- `GET /api/categories/custom` - è·å–è‡ªå®šä¹‰åˆ†ç±»
- `POST /api/categories` - åˆ›å»ºè‡ªå®šä¹‰åˆ†ç±»
- `PUT /api/categories/{id}` - æ›´æ–°åˆ†ç±»
- `DELETE /api/categories/{id}` - åˆ é™¤åˆ†ç±»

## ğŸ¨ å‰ç«¯å˜æ›´

### 1. categoryAPI.ts - æ–°å¢APIæ–¹æ³•

```typescript
// åˆ›å»ºè‡ªå®šä¹‰åˆ†ç±»
create: async (data: {
    name: string;
    icon: string;
    color: string;
    type: 'EXPENSE' | 'INCOME';
    description?: string;
}): Promise<CategoryResponse> => { ... }

// æ›´æ–°åˆ†ç±»
update: async (id: number, data: { ... }): Promise<CategoryResponse> => { ... }

// åˆ é™¤åˆ†ç±»
delete: async (id: number): Promise<void> => { ... }

// è·å–ç”¨æˆ·è‡ªå®šä¹‰åˆ†ç±»
getCustomCategories: async (): Promise<CategoryResponse[]> => { ... }
```

### 2. CategoryManagementScreen.tsx - æ–°å¢ç®¡ç†ç•Œé¢

#### ç•Œé¢ç‰¹ç‚¹

- **å‚è€ƒ Telegram/Google é£æ ¼**è®¾è®¡
- **åˆ†ç»„æ˜¾ç¤º**ï¼šç³»ç»Ÿé¢„è®¾å’Œè‡ªå®šä¹‰åˆ†ç±»åˆ†å¼€
- **å›¾æ ‡é€‰æ‹©å™¨**ï¼šæä¾› 30+ ä¸ªå¸¸ç”¨å›¾æ ‡
- **é¢œè‰²é€‰æ‹©å™¨**ï¼š22 ç§ç²¾é€‰é…è‰²
- **ç±»å‹åˆ‡æ¢**ï¼šæ”¯æŒæ”¯å‡º/æ”¶å…¥ç±»å‹åˆ‡æ¢
- **æ‚¬æµ®æŒ‰é’®**ï¼šå¿«é€Ÿæ–°å¢åˆ†ç±»

#### æ ¸å¿ƒåŠŸèƒ½

```typescript
// å›¾æ ‡é€‰é¡¹ï¼ˆ30+ä¸ªï¼‰
const ICON_OPTIONS = [
  { name: 'restaurant', icon: 'ionicons:restaurant', label: 'é¤é¥®' },
  { name: 'cart', icon: 'ionicons:cart', label: 'è´­ç‰©' },
  // ... æ›´å¤šå›¾æ ‡
];

// é¢œè‰²é€‰é¡¹ï¼ˆ22ç§ï¼‰
const COLOR_OPTIONS = [
  '#FF9500', '#FF2D55', '#5AC8FA', '#34C759', '#AF52DE',
  // ... æ›´å¤šé¢œè‰²
];
```

### 3. å¯¼èˆªé›†æˆ

#### App.tsx
```tsx
import { CategoryManagementScreen } from './src/screens';

<MainStack.Screen
  name="CategoryManagement"
  component={CategoryManagementScreen}
/>
```

#### ProfileScreen.tsx
```tsx
<TouchableOpacity
  onPress={() => navigation.navigate('CategoryManagement')}
>
  <Icon name="pricetag-outline" size={24} color={Colors.primary} />
  <Text>åˆ†ç±»ç®¡ç†</Text>
</TouchableOpacity>
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. æŸ¥çœ‹æ‰€æœ‰åˆ†ç±»
- è¿›å…¥ã€Œä¸ªäººä¸­å¿ƒã€â†’ã€Œåˆ†ç±»ç®¡ç†ã€
- æŸ¥çœ‹ç³»ç»Ÿé¢„è®¾å’Œè‡ªå®šä¹‰åˆ†ç±»

### 2. åˆ›å»ºè‡ªå®šä¹‰åˆ†ç±»
- ç‚¹å‡»æ‚¬æµ®ã€Œ+ã€æŒ‰é’®æˆ–å„åˆ†ç»„çš„ã€Œæ·»åŠ ã€æŒ‰é’®
- å¡«å†™åˆ†ç±»ä¿¡æ¯ï¼ˆåç§°ã€å›¾æ ‡ã€é¢œè‰²ã€ç±»å‹ï¼‰
- æ”¯æŒæ·»åŠ æè¿°ï¼ˆå¯é€‰ï¼‰

### 3. ç¼–è¾‘è‡ªå®šä¹‰åˆ†ç±»
- ç‚¹å‡»è‡ªå®šä¹‰åˆ†ç±»å³ä¾§çš„ã€Œç¼–è¾‘ã€æŒ‰é’®
- ä¿®æ”¹åˆ†ç±»ä¿¡æ¯
- ç³»ç»Ÿé¢„è®¾åˆ†ç±»ä¸å¯ç¼–è¾‘

### 4. åˆ é™¤è‡ªå®šä¹‰åˆ†ç±»
- ç‚¹å‡»è‡ªå®šä¹‰åˆ†ç±»å³ä¾§çš„ã€Œåˆ é™¤ã€æŒ‰é’®
- ç¡®è®¤ååˆ é™¤ï¼ˆé€»è¾‘åˆ é™¤ï¼‰
- ç³»ç»Ÿé¢„è®¾åˆ†ç±»ä¸å¯åˆ é™¤

## ğŸ“± ç•Œé¢æˆªå›¾ä½ç½®

```
ProfileScreen
  â”œâ”€â”€ æˆ‘çš„è´¦æœ¬
  â”œâ”€â”€ æ”¯ä»˜æ–¹å¼
  â””â”€â”€ åˆ†ç±»ç®¡ç† â† æ–°å¢
      â”œâ”€â”€ æ”¯å‡ºåˆ†ç±» - ç³»ç»Ÿé¢„è®¾ï¼ˆ16ä¸ªï¼‰
      â”œâ”€â”€ æ”¯å‡ºåˆ†ç±» - æˆ‘çš„è‡ªå®šä¹‰
      â”œâ”€â”€ æ”¶å…¥åˆ†ç±» - ç³»ç»Ÿé¢„è®¾ï¼ˆ10ä¸ªï¼‰
      â””â”€â”€ æ”¶å…¥åˆ†ç±» - æˆ‘çš„è‡ªå®šä¹‰
```

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### åˆ†ç±»æ•°æ®ç»“æ„

```typescript
interface Category {
  id: number;
  name: string;
  icon: string;         // æ ¼å¼ï¼šionicons:restaurant
  color: string;        // æ ¼å¼ï¼š#FF9500
  type: 'EXPENSE' | 'INCOME';
  sortOrder?: number;
  isSystem?: boolean;   // æ˜¯å¦ç³»ç»Ÿé¢„è®¾
  description?: string;
}
```

### å›¾æ ‡è§£æ

ä½¿ç”¨ `CategoryIcon` ç»„ä»¶è§£æå›¾æ ‡å­—ç¬¦ä¸²ï¼š
- æ”¯æŒæ ¼å¼ï¼š`iconType:iconName`ï¼ˆå¦‚ `ionicons:restaurant`ï¼‰
- å‘åå…¼å®¹ emoji æ ¼å¼
- è‡ªåŠ¨é€‚é…é¢œè‰²

### æƒé™æ§åˆ¶

- ç³»ç»Ÿé¢„è®¾åˆ†ç±»ï¼šåªè¯»ï¼Œä¸å¯ç¼–è¾‘ã€åˆ é™¤
- ç”¨æˆ·è‡ªå®šä¹‰åˆ†ç±»ï¼šå®Œå…¨å¯æ§

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç³»ç»Ÿåˆ†ç±»ä¿æŠ¤**ï¼šID < 1000 çš„åˆ†ç±»è§†ä¸ºç³»ç»Ÿé¢„è®¾ï¼Œä¸å…è®¸ä¿®æ”¹
2. **åˆ†ç±»å”¯ä¸€æ€§**ï¼šåŒä¸€ç”¨æˆ·ä¸‹åŒç±»å‹åˆ†ç±»åç§°ä¸èƒ½é‡å¤
3. **åˆ é™¤é™åˆ¶**ï¼šæ— æ³•åˆ é™¤æ­£åœ¨ä½¿ç”¨ä¸­çš„åˆ†ç±»ï¼ˆå»ºè®®åœ¨åˆ é™¤å‰æ£€æŸ¥ï¼‰
4. **å›¾æ ‡æ ¼å¼**ï¼šå¿…é¡»ä½¿ç”¨ `iconType:iconName` æ ¼å¼

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

1. **åˆ†ç±»æ’åº**ï¼šæ”¯æŒæ‹–æ‹½æ’åº
2. **åˆ†ç±»ç»Ÿè®¡**ï¼šæ˜¾ç¤ºæ¯ä¸ªåˆ†ç±»çš„ä½¿ç”¨æ¬¡æ•°
3. **æ‰¹é‡å¯¼å…¥**ï¼šæ”¯æŒä»æ¨¡æ¿å¯¼å…¥åˆ†ç±»
4. **åˆ†ç±»å…±äº«**ï¼šå…±äº«è´¦æœ¬ä¸­åˆ†ç±»çš„åŒæ­¥æœºåˆ¶
5. **å›¾æ ‡åº“æ‰©å±•**ï¼šæ·»åŠ æ›´å¤šå›¾æ ‡é€‰é¡¹

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [åˆ†ç±»åŠŸèƒ½è¯´æ˜](./CATEGORY_FEATURE.md)
- [å›¾æ ‡æ›¿æ¢æ–¹æ¡ˆ](../LedgerAIClient/ICON_REPLACEMENT_PLAN.md)
- [å›¾æ ‡ä½¿ç”¨æŒ‡å—](../LedgerAIClient/ICON_GUIDE.md)

## âœ… æµ‹è¯•æ¸…å•

- [ ] æŸ¥çœ‹æ‰€æœ‰åˆ†ç±»
- [ ] åˆ›å»ºæ”¯å‡ºåˆ†ç±»
- [ ] åˆ›å»ºæ”¶å…¥åˆ†ç±»
- [ ] ç¼–è¾‘è‡ªå®šä¹‰åˆ†ç±»
- [ ] åˆ é™¤è‡ªå®šä¹‰åˆ†ç±»
- [ ] å›¾æ ‡é€‰æ‹©å™¨æ­£å¸¸å·¥ä½œ
- [ ] é¢œè‰²é€‰æ‹©å™¨æ­£å¸¸å·¥ä½œ
- [ ] ç³»ç»Ÿåˆ†ç±»ä¸å¯ç¼–è¾‘
- [ ] ç³»ç»Ÿåˆ†ç±»ä¸å¯åˆ é™¤
- [ ] åˆ†ç±»åœ¨è®°è´¦æ—¶æ­£å¸¸æ˜¾ç¤º

---

**ç‰ˆæœ¬**: v1.0
**æ—¥æœŸ**: 2024-11-20
**ä½œè€…**: GitHub Copilot
